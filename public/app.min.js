function config($locationProvider,$stateProvider,$httpProvider){function view(name,type){return{templateUrl:"/html/"+type+"s/"+name+".html",controller:name[0].toUpperCase()+name.slice(1)+"Ctrl"}}$httpProvider.defaults.withCredentials=!0,$locationProvider.hashPrefix("!"),$stateProvider.state("index",{url:"",views:{page:view("subscribe","page")}}),["account","changepwd","login","project","signup"].forEach(function(modal){$stateProvider.state(modal,{url:"/"+modal,views:{page:view("dashboard","page"),modal:view(modal,"modal")},onEnter:function($rootScope){$rootScope.modal=modal}})}),["main","subscribe","pricing","landing","support","dashboard"].forEach(function(page){$stateProvider.state(page,{url:"/"+page,views:{page:view(page,"page")},onEnter:function($rootScope){$rootScope.modal=!1}})})}function MainCtrl(){}function LandingCtrl(){}function DashboardCtrl(){}function PricingCtrl(){}function SupportCtrl(){}angular.module("logarithmic",["ui.state","ngCookies"]).config(["$locationProvider","$stateProvider","$httpProvider",config]),angular.module("logarithmic").directive("error",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{"if":"&"},template:'<div class="error-wrapper"><div class="error fade" ng-show="if()" ng-animate="\'fade\'" ng-transclude></div></div>'}}),angular.module("logarithmic").directive("modal",function(){return{restrict:"E",link:function(scope,element,attrs){scope.title=attrs.title,console.log(scope)}}}),angular.module("logarithmic").directive("validIf",function($parse){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ctrl){scope.$watch(attrs.ngModel,function(){var valid=$parse(attrs.validIf)(scope);ctrl.$setValidity(attrs.name,valid)})}}}),angular.module("logarithmic").directive("validIfEquals",function($parse){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ctrl){scope.$watch(attrs.ngModel,function(){var v1=$parse(attrs.ngModel)(scope),v2=$parse(attrs.validIfEquals)(scope);ctrl.$setValidity(attrs.name,angular.equals(v1,v2))})}}}),angular.module("logarithmic").directive("buttonSubmit",function($q,$animator){return{restrict:"E",replace:!0,templateUrl:"/js/directives/templates/buttonSubmit.html",transclude:!0,scope:{form:"@"},link:function(scope,element,attrs){scope.click=function(){var form=scope.$parent.form,animator=$animator(scope,attrs);form.$validation=!0,form.$invalid||form.$progress?animator.animate("invalid",element):(form.$progress=$q.defer(),scope.$eval(attrs.ok),form.$progress.promise.then(function(){form.$progress=void 0}))}}}}),angular.module("logarithmic").directive("buttonCancel",function(){return{restrict:"E",replace:!0,template:'<button ng-click="cancel()" ng-transclude></button>',transclude:!0,link:function(scope){scope.cancel=function(){var form=scope.form;event.preventDefault(),form.$progress&&(form.$progress.reject(),form.$progress=void 0)}}}}),angular.module("logarithmic").controller("AccountCtrl",function($scope,$cookieStore){$scope.model={email:""},$scope.show=function(){$scope.form.$setPristine()},$scope.ok=function(){$scope.validation=!0},$scope.cancel=function(event){alert("canceled"),event.preventDefault()},console.log($cookieStore.get("user"))}),angular.module("logarithmic").controller("SignupCtrl",function($scope,$state,api){$scope.model={firstName:"Boris",lastName:"Yankov",email:"borisyankov@gmail.com",password:"smasher",confirmPassword:"smasher",subscribe:!0},$scope.show=function(){$scope.form.$setPristine()},$scope.signup=function(){api.signup($scope.model).then(function(){$scope.form.$progress.resolve(),$scope.form.$progress=void 0})}}),angular.module("logarithmic").controller("LoginCtrl",function($scope,api,$cookies){console.log($cookies.user),$scope.model={email:"bobi@yankov.com",password:"123456",stayLoggedIn:!0},$scope.show=function(){$scope.form.$setPristine()},$scope.login=function(){console.log("called"),api.login($scope.model).then(function(){console.log("logged in or not?"),$scope.progress=!1})}}),angular.module("logarithmic").controller("ProjectCtrl",function($scope){$scope.model={name:"1",password:"2"},$scope.show=function(){$scope.form.$setPristine()},$scope.ok=function(){$scope.validation=!0},$scope.cancel=function(event){event.preventDefault()}}),angular.module("logarithmic").controller("ChangepwdCtrl",function($scope){$scope.model={oldPassword:"",newPassword:"",confirmPassword:""},$scope.show=function(){$scope.form.$setPristine()},$scope.ok=function(){$scope.validation=!0},$scope.cancel=function(event){event.preventDefault()}}),angular.module("logarithmic").controller("SubscribeCtrl",function($scope,$state,api){$scope.step=1,$scope.$formSubmit=function(deferred){api.subscribe($scope.email).success(function(){deferred.resolve(),$scope.step++})}});
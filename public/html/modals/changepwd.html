<form name="form" method="POST"
      novalidate
      ng-controller="ChangePwdCtrl"
      ng-submit="form.$valid && ok()">
    <fieldset>
        <label for="oldPassword">Old Password</label>
        <input id="oldPassword" type="password" name="oldPassword"
               ng-disabled="progress"
               ng-required="true"
               ng-model="model.oldPassword">

        <error if="form.$validation && form.oldPassword.$invalid">
            Enter your old password
        </error>
    </fieldset>
    <fieldset>
        <label for="newPassword">New password</label>
        <input id="newPassword" type="password" name="newPassword"
               ng-disabled="progress"
               ng-required="true"
               ng-minlength="5"
               ng-model="model.newPassword">

        <error if="form.$validation && form.newPassword.$invalid">
            Enter a password, 5 letters or more
        </error>
    </fieldset>
    <fieldset>
        <label for="comfirm-password">Confirm your password</label>
        <input id="comfirm-password" type="password" name="confirmPassword"
               ng-disabled="progress"
               ng-required="true"
               valid-if-equals="password"
               ng-model="model.confirmPassword">

        <error if="form.$validation && password != confirmPassword">
            These passwords don't match
        </error>
    </fieldset>
    <button-submit>Save Changes</button-submit>
    <button-cancel>Cancel</button-cancel>
</form>